<div ng-controller="userProfileController">
    <div class="container">
        <form class="form-horizontal" name="userProfileForm">
            <fieldset>

                <!-- Form Name -->
                <legend>{{user.FirstName}} {{user.LastName}} Profile</legend>

                
                <!-- Text input-->
                <div class="form-group" ng-class="{ true: 'has-error'}[userProfileForm.first_name.$invalid && (userProfileForm.first_name.$touched || submitted)]">
                    <label class="col-md-4 control-label" for="textinput2">First Name</label>
                    <div class="col-md-4">
                        <input id="textinput2" name="first_name" type="text" placeholder="First Name" ng-model="currentUser.FirstName" class="form-control"
                               required pattern="[a-zA-Z]+[a-zA-Z-_\.]*" autofocus ng-maxlength="16">
                        <div class="help-block" ng-messages="userProfileForm.first_name.$error" ng-if="userProfileForm.first_name.$touched || submitted">
                            <div ng-message="required">Field "First Name" must be filled</div>
                            <div ng-message="maxlength">First Name must be not more 16 characters</div>
                            <div ng-message="pattern">Use only letters, '.', '-' or '_'.</div>
                        </div>
                    </div>
                </div>


                <div class="form-group" ng-class="{ true: 'has-error'}[userProfileForm.last_name.$invalid && (userProfileForm.last_name.$touched || submitted)]">
                    <label class="col-md-4 control-label" for="textinput3">Last Name</label>
                    <div class="col-md-4">
                        <input id="textinput3" name="last_name" type="text" placeholder="Last Name" ng-model="currentUser.LastName" class="form-control"
                               required pattern="[a-zA-Z]+[a-zA-Z-_\.]*" ng-maxlength="16">
                        <div class="help-block" ng-messages="userProfileForm.last_name.$error" ng-if="userProfileForm.last_name.$touched || submitted">
                            <div ng-message="required">Field "Last Name" must be filled</div>
                            <div ng-message="maxlength">Last Name must be not more 16 characters</div>
                            <div ng-message="pattern">Use only letters, '.', '-' or '_'.</div>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-4 control-label" for="textinput4">Role Name</label>
                    <div class="col-md-4">
                        <input id="textinput4" name="role_name" type="text" readonly placeholder="Role Name" ng-model="currentUser.UserRoleName" class="form-control">
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-4 control-label" for="textinput5">Registration Date</label>
                    <div class="col-md-4">
                        <input id="textinput5" name="reg_date" type="text" readonly placeholder="Registration Date" ng-model="currentUser.RegistrationDate" class="form-control">
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-4 control-label" for="textinput6">Email</label>
                    <div class="col-md-4">
                        <input id="textinput6" name="email" type="email" readonly placeholder="Email" ng-model="currentUser.Email" class="form-control">
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-4 control-label" for="textinput7">Phone Number</label>
                    <div class="col-md-4">
                        <input id="textinput7" name="phone_number" type="text" placeholder="Phone Number" ng-model="currentUser.PhoneNumber" class="form-control">
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-4 control-label" for="textinput8">Company Name</label>
                    <div class="col-md-4">
                        <input id="textinput8" name="company_name" type="text" placeholder="Company Name" ng-model="currentUser.CompanyName" class="form-control">
                    </div>
                </div>
                <!-- Password input-->
                <div class="form-group" ng-class="{ true: 'has-error'}[userProfileForm.password.$invalid && (userProfileForm.password.$touched || submitted)]">
                    <label class="col-md-4 control-label" for="passwordinput9">New password</label>
                    <div class="col-md-4">
                        <input id="passwordinput9" name="password" type="password" placeholder="New password" ng-model="currentUser.NewPassword" class="form-control"
                               minlength="6" ng-maxlength="10" pattern="\S+" />
                        <div class="help-block" ng-messages="userProfileForm.password.$error" ng-if="userProfileForm.password.$touched || submitted">
                            <div ng-message="minlength">Password length must be at least 6 characters </div>
                            <div ng-message="maxlength">Password length must be no more than 10 characters</div>
                            <div ng-message="pattern">Password must not contain spaces</div>
                        </div>
                    </div>
                </div>

                <!-- Password input-->
                <div class="form-group" ng-class="{ true: 'has-error'}[userProfileForm.password_confirmation.$viewValue != userProfileForm.password.$viewValue && (userProfileForm.password_confirmation.$touched || submitted)]">
                    <label class="col-md-4 control-label" for="passwordinput10">Repeat password</label>
                    <div class="col-md-4">
                        <input id="passwordinput10" name="password_confirmation" type="password" placeholder="Repeat password" ng-model="currentUser.RepeatPassword" class="form-control">
                        <div class="help-block" ng-if="userProfileForm.password_confirmation.$viewValue != userProfileForm.password.$viewValue && (userProfileForm.password_confirmation.$touched || submitted)">
                            Password are not matching
                        </div>
                    </div>
                </div>
            </fieldset>
            <div class="row">
                <div class="col-xs-4 col-xs-offset-4 col-lg-offset-4 col-md-offset-4 col-sm-offset-4">
                    <input type="submit" value="Update" class="btn btn-primary btn-block btn-lg" ng-click="updateUserProfile()">
                </div>
            </div>
        </form>

    </div>
</div>